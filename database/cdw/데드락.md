## 1. 교착 상태
여러 개의 트랜잭션들이 실행을 하지 못하고 서로 무한정 기다리는 상태. 트랜잭션들을 제어하기 위한 Lock의 부작용으로 교착 상태가 발생할 수 있다.


## 2. 교착 상태의 방지와 회피
교착 상태의 회피 기법은 자원을 할당할 때 타임 스탬프를 사용하여 교착상태가 일어나지 않도록 회피하는 방법. 아래 두 방법 모두 타임 스탬프를 기준으로 트랜잭션의 나이를 판단함으로써 문제를 해결한다는 성질을 갖는다. die 혹은 rollback 이후에 재시작하더라도 기존의 나이가 초기화 되지 않는다.(언젠가는 oldest 트랜잭션이 된다.)

### 2-1) Wait-Die 기법
트랜잭션 `T1`이 트랜잭션 `T2`에 의해 Lock된 데이터를 요청할 때 T1이 먼저 들어온 트랜잭션이면 **기다리고(Wait)** `T1`이 나중에 들어온 트랜잭션이면 **포기(Die)** 하는 방식

### 2-2) Wound-Wait 기법
트랜잭션 `T1`이 트랜잭션 `T2`에 의해 Lock된 데이터를 요청할 때 `T1`이 먼저 들어온 트랜잭션이면 데이터를 **선점(Wound)**하고 그렇지 않다면 **대기한다(Wait)**.


## 3. 교착 상태의 탐지
![](https://images.velog.io/images/cheal3/post/1d12026d-f40e-4191-879a-806d2b892b58/image.png)

위와 같은 타임 스탬프가 있다고 하면 대기 그래프는 다음과 같이 그려진다. (Union Find)

![](https://images.velog.io/images/cheal3/post/d3d03d87-3eb3-4b52-8b9a-1710047dd6d6/image.png)
![](https://images.velog.io/images/cheal3/post/4b2e5563-3d8e-48fd-ba18-e2cb08aeec84/image.png)

T1 , T4 , T3 가 다음과 같이 사이클을 그리고 있다는 점에서 교착상태가 발생했음을 알 수 있다.
